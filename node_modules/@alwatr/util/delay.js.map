{"version":3,"file":"delay.js","sourceRoot":"","sources":["src/delay.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,qBAAqB,EAAC,MAAM,eAAe,CAAC;AAEpD,MAAM,CAAC,MAAM,KAAK,GAAG,CAAC,QAAgB,EAAiB,EAAE;IACvD,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC;AACjE,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,cAAc,GAAG,GAAiC,EAAE;IAC/D,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC;AAClE,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,SAAS,GAAG,CAAC,OAAgB,EAAyB,EAAE;IACnE,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,mBAAmB,CAAC,OAAO,EAAE,EAAC,OAAO,EAAC,CAAC,CAAC,CAAC;AAC3E,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,UAAU,GAAG,CACxB,OAAoB,EACpB,SAAY,EACqB,EAAE;IACnC,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;AAC7G,CAAC,CAAC","sourcesContent":["import {requestAnimationFrame} from './polyfill.js';\n\nexport const delay = (duration: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, duration));\n};\n\nexport const untilNextFrame = (): Promise<DOMHighResTimeStamp> => {\n  return new Promise((resolve) => requestAnimationFrame(resolve));\n};\n\nexport const untilIdle = (timeout?: number): Promise<IdleDeadline> => {\n  return new Promise((resolve) => requestIdleCallback(resolve, {timeout}));\n};\n\nexport const untilEvent = <T extends keyof HTMLElementEventMap>(\n  element: HTMLElement,\n  eventName: T,\n): Promise<HTMLElementEventMap[T]> => {\n  return new Promise((resolve) => element.addEventListener(eventName, resolve, {once: true, passive: true}));\n};\n"]}